{"version":3,"file":"app.js","names":["jQuery","document","ready","$","escapeHTML","str","String","replace","each","qId","qBaseUrl","qMedium","qTerm","qSource","qCampaign","qContent","questionId","builderSelector","on","safeVal","this","val","text","data","fadeIn","fadeOut","e","preventDefault","baseUrl","utmId","utmSource","utmMedium","utmCampaign","utmTerm","utmContent","params","push","encodeURIComponent","url","length","join","localStorage","setItem","generateURL","savedUrl","getItem","URL","window","location","origin","pathname","searchParams","get"],"sources":["app.js"],"mappings":"AACAA,OAAOC,UAAUC,MAAM,SAASC,GAG5B,SAASC,EAAWC,GAChB,OAAOC,OAAOD,GACTE,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,QACvB,CAcAJ,EAAEK,KAXkB,CAChBC,IAAK,SACLC,SAAU,WACVC,QAAS,aACTC,MAAO,WACPC,QAAS,aACTC,UAAW,eACXC,SAAU,eAIM,SAASC,EAAYC,GACrCd,EAAE,IAAMa,GAAYE,GAAG,QAAS,WAC5B,MAAMC,EAAUf,EAAWD,EAAEiB,MAAMC,OACnClB,EAAEc,GAAiBI,IAAIF,EAC3B,EACJ,GAGAhB,EAAE,kBAAkBe,GAAG,QAAS,WAC5B,MAAMI,EAAOnB,EAAEiB,MAAMG,KAAK,WAC1BpB,EAAE,gBAAgBmB,KAAKA,GACvBnB,EAAE,iBAAiBqB,OAAO,IAC9B,GAEArB,EAAE,kBAAkBe,GAAG,QAAS,WAC5Bf,EAAE,iBAAiBsB,QAAQ,IAC/B,GA8BAtB,EAAE,aAAae,GAAG,QAAS,SAASQ,GAChCA,EAAEC,iBA5BN,WACI,MAAMC,EAAUxB,EAAWD,EAAE,YAAYkB,OACnCQ,EAAQzB,EAAWD,EAAE,UAAUkB,OAC/BS,EAAY1B,EAAWD,EAAE,cAAckB,OACvCU,EAAY3B,EAAWD,EAAE,cAAckB,OACvCW,EAAc5B,EAAWD,EAAE,gBAAgBkB,OAC3CY,EAAU7B,EAAWD,EAAE,YAAYkB,OACnCa,EAAa9B,EAAWD,EAAE,eAAekB,OAG/C,IAAIc,EAAS,GACVN,GAAOM,EAAOC,KAAK,UAAUC,mBAAmBR,MAChDC,GAAWK,EAAOC,KAAK,cAAcC,mBAAmBP,MACxDC,GAAWI,EAAOC,KAAK,cAAcC,mBAAmBN,MACxDC,GAAaG,EAAOC,KAAK,gBAAgBC,mBAAmBL,MAC5DC,GAASE,EAAOC,KAAK,YAAYC,mBAAmBJ,MACpDC,GAAYC,EAAOC,KAAK,eAAeC,mBAAmBH,MAE7D,MAAMI,EAAMH,EAAOI,OAAS,GAAGX,KAAWO,EAAOK,KAAK,OAASZ,EAE/DzB,EAAE,aAAamB,KAAKgB,GAGpBG,aAAaC,QAAQ,aAAcJ,EACvC,CAKIK,EACJ,GAGA,MAAMC,EAAWH,aAAaI,QAAQ,cACtC,GAAGD,EAAS,CACRzC,EAAE,aAAamB,KAAKsB,GAGpB,MAAMN,EAAM,IAAIQ,IAAIF,EAAUG,OAAOC,SAASC,QAC9C9C,EAAE,YAAYkB,IAAIiB,EAAIW,OAASX,EAAIY,UACnC,MAAMC,EAAeb,EAAIa,aACzBhD,EAAE,UAAUkB,IAAI8B,EAAaC,IAAI,WAAa,IAC9CjD,EAAE,cAAckB,IAAI8B,EAAaC,IAAI,eAAiB,IACtDjD,EAAE,cAAckB,IAAI8B,EAAaC,IAAI,eAAiB,IACtDjD,EAAE,gBAAgBkB,IAAI8B,EAAaC,IAAI,iBAAmB,IAC1DjD,EAAE,YAAYkB,IAAI8B,EAAaC,IAAI,aAAe,IAClDjD,EAAE,eAAekB,IAAI8B,EAAaC,IAAI,gBAAkB,GAC5D,CAEJ","ignoreList":[],"sourcesContent":["// app.js\r\njQuery(document).ready(function($){\r\n\r\n    // ======== ESCAPE HTML FUNCTION ========\r\n    function escapeHTML(str) {\r\n        return String(str)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/'/g, '&#39;');\r\n    }\r\n\r\n    // ======== MAP QUESTION INPUTS TO BUILDER ========\r\n    const questionMap = {\r\n        qId: '#utmId',\r\n        qBaseUrl: '#baseUrl',\r\n        qMedium: '#utmMedium',\r\n        qTerm: '#utmTerm',\r\n        qSource: '#utmSource',\r\n        qCampaign: '#utmCampaign',\r\n        qContent: '#utmContent'\r\n    };\r\n\r\n    // Update builder fields in real-time when questions are typed\r\n    $.each(questionMap, function(questionId, builderSelector){\r\n        $('#' + questionId).on('input', function(){\r\n            const safeVal = escapeHTML($(this).val());\r\n            $(builderSelector).val(safeVal);\r\n        });\r\n    });\r\n\r\n    // ======== TOOLTIP MODAL ========\r\n    $('.question-mark').on('click', function(){\r\n        const text = $(this).data('tooltip');\r\n        $('#tooltipText').text(text);\r\n        $('#tooltipModal').fadeIn(200);\r\n    });\r\n\r\n    $('.close-tooltip').on('click', function(){\r\n        $('#tooltipModal').fadeOut(200);\r\n    });\r\n\r\n    // ======== GENERATE URL FUNCTION ========\r\n    function generateURL() {\r\n        const baseUrl = escapeHTML($('#baseUrl').val());\r\n        const utmId = escapeHTML($('#utmId').val());\r\n        const utmSource = escapeHTML($('#utmSource').val());\r\n        const utmMedium = escapeHTML($('#utmMedium').val());\r\n        const utmCampaign = escapeHTML($('#utmCampaign').val());\r\n        const utmTerm = escapeHTML($('#utmTerm').val());\r\n        const utmContent = escapeHTML($('#utmContent').val());\r\n\r\n        // Build UTM string\r\n        let params = [];\r\n        if(utmId) params.push(`utm_id=${encodeURIComponent(utmId)}`);\r\n        if(utmSource) params.push(`utm_source=${encodeURIComponent(utmSource)}`);\r\n        if(utmMedium) params.push(`utm_medium=${encodeURIComponent(utmMedium)}`);\r\n        if(utmCampaign) params.push(`utm_campaign=${encodeURIComponent(utmCampaign)}`);\r\n        if(utmTerm) params.push(`utm_term=${encodeURIComponent(utmTerm)}`);\r\n        if(utmContent) params.push(`utm_content=${encodeURIComponent(utmContent)}`);\r\n\r\n        const url = params.length ? `${baseUrl}?${params.join('&')}` : baseUrl;\r\n\r\n        $('#finalUrl').text(url);\r\n\r\n        // Store in localStorage to persist after refresh\r\n        localStorage.setItem('lastUTMUrl', url);\r\n    }\r\n\r\n    // ======== BUTTON CLICK ========\r\n    $('#buildBtn').on('click', function(e){\r\n        e.preventDefault();\r\n        generateURL();\r\n    });\r\n\r\n    // ======== RESTORE URL ON PAGE LOAD ========\r\n    const savedUrl = localStorage.getItem('lastUTMUrl');\r\n    if(savedUrl){\r\n        $('#finalUrl').text(savedUrl);\r\n\r\n        // Optionally parse saved URL to populate fields\r\n        const url = new URL(savedUrl, window.location.origin);\r\n        $('#baseUrl').val(url.origin + url.pathname);\r\n        const searchParams = url.searchParams;\r\n        $('#utmId').val(searchParams.get('utm_id') || '');\r\n        $('#utmSource').val(searchParams.get('utm_source') || '');\r\n        $('#utmMedium').val(searchParams.get('utm_medium') || '');\r\n        $('#utmCampaign').val(searchParams.get('utm_campaign') || '');\r\n        $('#utmTerm').val(searchParams.get('utm_term') || '');\r\n        $('#utmContent').val(searchParams.get('utm_content') || '');\r\n    }\r\n\r\n});"]}