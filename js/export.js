const utmEntries=[];function arrayToCSV(e){if(0===e.length)return"";const t=Object.keys(e[0]);return[t.join(","),...e.map(e=>t.map(t=>`"${String(e[t]).replace(/"/g,'""')}"`).join(","))].join("\r\n")}function downloadCSV(e,t){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),o=URL.createObjectURL(n);u.setAttribute("href",o),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}function captureUTMEntry(){const e={utm_id:document.getElementById("utmId").value||"",base_url:document.getElementById("baseUrl").value||"",utm_medium:document.getElementById("utmMedium").value||"",utm_term:document.getElementById("utmTerm").value||"",utm_source:document.getElementById("utmSource").value||"",utm_campaign:document.getElementById("utmCampaign").value||"",utm_content:document.getElementById("utmContent").value||"",final_url:document.getElementById("finalUrl").innerText||""};utmEntries.push(e)}function exportAllUTMToCSV(){if(0===utmEntries.length)return void alert("No UTM entries to export.");downloadCSV("utm_entries.csv",arrayToCSV(utmEntries))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("captureBtn"),t=document.getElementById("exportBtn");e&&e.addEventListener("click",()=>{captureUTMEntry(),alert("UTM entry captured! You can generate another or export all.")}),t&&t.addEventListener("click",exportAllUTMToCSV)});
//# sourceMappingURL=export.js.map
