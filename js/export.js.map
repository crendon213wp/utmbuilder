{"version":3,"file":"export.js","names":["utmEntries","arrayToCSV","data","length","headers","Object","keys","join","map","row","field","String","replace","downloadCSV","filename","csvString","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","captureUTMEntry","entry","utm_id","getElementById","value","base_url","utm_medium","utm_term","utm_source","utm_campaign","utm_content","final_url","innerText","push","exportAllUTMToCSV","alert","addEventListener","captureBtn","exportBtn"],"sources":["export.js"],"mappings":"AAGA,MAAMA,WAAa,GAGnB,SAASC,WAAWC,GAChB,GAAoB,IAAhBA,EAAKC,OAAc,MAAO,GAC9B,MAAMC,EAAUC,OAAOC,KAAKJ,EAAK,IAOjC,MANgB,CACZE,EAAQG,KAAK,QACVL,EAAKM,IAAIC,GACRL,EAAQI,IAAIE,GAAS,IAAIC,OAAOF,EAAIC,IAAQE,QAAQ,KAAM,UAAUL,KAAK,OAGlEA,KAAK,OACxB,CAGA,SAASM,YAAYC,EAAUC,GAC3B,MAAMC,EAAO,IAAIC,KAAK,CAACF,GAAY,CAAEG,KAAM,4BACrCC,EAAOC,SAASC,cAAc,KAC9BC,EAAMC,IAAIC,gBAAgBR,GAChCG,EAAKM,aAAa,OAAQH,GAC1BH,EAAKM,aAAa,WAAYX,GAC9BK,EAAKO,MAAMC,WAAa,SACxBP,SAASQ,KAAKC,YAAYV,GAC1BA,EAAKW,QACLV,SAASQ,KAAKG,YAAYZ,EAC9B,CAGA,SAASa,kBACL,MAAMC,EAAQ,CACVC,OAAQd,SAASe,eAAe,SAASC,OAAS,GAClDC,SAAUjB,SAASe,eAAe,WAAWC,OAAS,GACtDE,WAAYlB,SAASe,eAAe,aAAaC,OAAS,GAC1DG,SAAUnB,SAASe,eAAe,WAAWC,OAAS,GACtDI,WAAYpB,SAASe,eAAe,aAAaC,OAAS,GAC1DK,aAAcrB,SAASe,eAAe,eAAeC,OAAS,GAC9DM,YAAatB,SAASe,eAAe,cAAcC,OAAS,GAC5DO,UAAWvB,SAASe,eAAe,YAAYS,WAAa,IAEhE5C,WAAW6C,KAAKZ,EACpB,CAGA,SAASa,oBACL,GAA0B,IAAtB9C,WAAWG,OAEX,YADA4C,MAAM,6BAIVlC,YAAY,kBADMZ,WAAWD,YAEjC,CAGAoB,SAAS4B,iBAAiB,mBAAoB,KAC1C,MAAMC,EAAa7B,SAASe,eAAe,cACrCe,EAAY9B,SAASe,eAAe,aAEtCc,GACAA,EAAWD,iBAAiB,QAAS,KACjChB,kBACAe,MAAM,iEAIVG,GACAA,EAAUF,iBAAiB,QAASF","ignoreList":[],"sourcesContent":["// export.js\r\n\r\n// Array to store all UTM entries\r\nconst utmEntries = [];\r\n\r\n// Utility function to convert data array to CSV string\r\nfunction arrayToCSV(data) {\r\n    if (data.length === 0) return '';\r\n    const headers = Object.keys(data[0]);\r\n    const csvRows = [\r\n        headers.join(','), // header row\r\n        ...data.map(row =>\r\n            headers.map(field => `\"${String(row[field]).replace(/\"/g, '\"\"')}\"`).join(',')\r\n        )\r\n    ];\r\n    return csvRows.join('\\r\\n');\r\n}\r\n\r\n// Function to trigger CSV download\r\nfunction downloadCSV(filename, csvString) {\r\n    const blob = new Blob([csvString], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', filename);\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n}\r\n\r\n// Function to capture current UTM input values\r\nfunction captureUTMEntry() {\r\n    const entry = {\r\n        utm_id: document.getElementById('utmId').value || '',\r\n        base_url: document.getElementById('baseUrl').value || '',\r\n        utm_medium: document.getElementById('utmMedium').value || '',\r\n        utm_term: document.getElementById('utmTerm').value || '',\r\n        utm_source: document.getElementById('utmSource').value || '',\r\n        utm_campaign: document.getElementById('utmCampaign').value || '',\r\n        utm_content: document.getElementById('utmContent').value || '',\r\n        final_url: document.getElementById('finalUrl').innerText || ''\r\n    };\r\n    utmEntries.push(entry);\r\n}\r\n\r\n// Function to export all UTM entries to CSV\r\nfunction exportAllUTMToCSV() {\r\n    if (utmEntries.length === 0) {\r\n        alert('No UTM entries to export.');\r\n        return;\r\n    }\r\n    const csvString = arrayToCSV(utmEntries);\r\n    downloadCSV('utm_entries.csv', csvString);\r\n}\r\n\r\n// Optional: Attach functions to buttons\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const captureBtn = document.getElementById('captureBtn');\r\n    const exportBtn = document.getElementById('exportBtn');\r\n\r\n    if (captureBtn) {\r\n        captureBtn.addEventListener('click', () => {\r\n            captureUTMEntry();\r\n            alert('UTM entry captured! You can generate another or export all.');\r\n        });\r\n    }\r\n\r\n    if (exportBtn) {\r\n        exportBtn.addEventListener('click', exportAllUTMToCSV);\r\n    }\r\n});\r\n"]}